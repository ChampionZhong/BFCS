# cirpy

[üîô Back to Main Repo](../../../README.md) | [üîó Original Repo](https://github.com/mcs07/CIRpy)

![Tool Count](https://img.shields.io/badge/Agent_Tools-6-blue?style=flat-square)
![Category](https://img.shields.io/badge/Category-Chemistry-green?style=flat-square)
![Status](https://img.shields.io/badge/Import_Test-Passed-success?style=flat-square)

## üìñ Overview

CIRpy is a Python wrapper for the NCI/NIH Chemical Identifier Resolver web service that converts chemical identifiers (e.g., names) into other representations such as SMILES.

> **Note**: This documentation lists the **agent-ready wrapper functions** generated for this package. These functions have been strictly typed, docstring-enhanced, and tested for import stability within a standardized Apptainer environment.

## üõ†Ô∏è Available Agent Tools

Below is the list of **6** functions optimized for LLM tool-use.

| **Tool Name (Wrapper)**   | **Source**          | **File Path**     | **Arguments (Type)**        | **Description**                |
| ------------------------- | ------------------- | ----------------- | --------------------------- | ------------------------------ |
| `cirpy_construct_api_url` | `cirpy.construct_api_url` | `cirpy.py` | `input: str, representation: str, resolvers: list = None, get3d: bool = False, tautomers: bool = False, xml: bool = True, **kwargs` | `Construct and return the CIR (Chemical Identifier Resolver) API URL for a desired resolution request. This function is used by CIRpy to build the exact HTTP request URL that will be sent to the CIR web service (the NCI/NIH Chemical Identifier Resolver). Given a chemical identifier (for example, a chemical name or registry number) and the desired output representation (for example, a SMILES string, InChI, or a file format), this function encodes the identifier, selects the appropriate path and query parameters accepted by the CIR API, and returns a single percent-encoded URL string. The function does not perform any network I/O; it only composes the URL. It respects module-level constants such as FILE_FORMATS (which cause a representation to be sent as representation=file with a format=... query parameter) and API_BASE (the CIR endpoint base path).` |
| `cirpy_download` | `cirpy.download` | `cirpy.py` | `input: str, filename: str, representation: str, overwrite: bool = False, resolvers: list = None, get3d: bool = False, **kwargs` | `Convenience function to save a Chemical Identifier Resolver (CIR) response to a file. This function is part of CIRpy, a Python interface for the CIR web service (Chemical Identifier Resolver) described in the project README. It wraps cirpy.resolve to request a chemical representation (for example, "smiles" for SMILES strings) from CIR and then writes the textual response to a local file. Typical use is to persist resolved chemical representations (SMILES, InChI, SDF blocks, etc.) for later use in cheminformatics workflows without manually constructing HTTP requests or parsing responses.` |
| `cirpy_query` | `cirpy.query` | `cirpy.py` | `input: str, representation: str, resolvers: list = None, get3d: bool = False, tautomers: bool = False, **kwargs` | `Resolve a chemical identifier using the CIR (Chemical Identifier Resolver) web service and return all parsed results for the requested output representation. This function is part of CIRpy, a Python interface to the CIR web service maintained by the CADD Group at NCI/NIH (see README). It issues a network request (via request()) to CIR, parses the XML response, and constructs a list of Result objects representing each resolution returned by CIR. Each Result contains the original input string, the representation requested, the resolver that produced the result, the input format class, the notation, and the resolved value (a single string when a single value is returned or a list of strings when multiple items are returned, e.g., multiple tautomers). The function logs the number of results at debug level and may perform HTTP network I/O.` |
| `cirpy_request` | `cirpy.request` | `cirpy.py` | `input: str, representation: str, resolvers: list = None, get3d: bool = False, tautomers: bool = False, **kwargs` | `Make a request to the Chemical Identifier Resolver (CIR) web service and return the parsed XML root element of the CIR response. This function is the low-level network operation used by CIRpy to resolve chemical identifiers (for example, a common name like "Aspirin", a CAS, InChI, or SMILES) into another chemical representation (for example, "smiles", "inchi", "mol"). It constructs a CIR API URL via construct_api_url, performs an HTTP request (using urlopen), and parses the returned XML into an Element tree root (using etree.parse). The function performs blocking network I/O and will propagate network and parsing errors to the caller. Typical use in the CIRpy domain is to call higher-level helpers (such as cirpy.resolve) which in turn call this function to obtain the CIR XML response.` |
| `cirpy_resolve` | `cirpy.resolve` | `cirpy.py` | `input: str, representation: str, resolvers: list = None, get3d: bool = False, **kwargs` | `Resolve a chemical identifier to a specified output representation using the Chemical Identifier Resolver (CIR) web service. This function is the high-level convenience wrapper used in CIRpy to convert one form of chemical identifier (for example a common name such as "Aspirin") into another representation (for example a SMILES string). It issues a network query to the CIR service via the internal cirpy.query function, takes the first result from the CIR XML response, and returns that result's value as a string. If CIR returns no results the function returns None. This function therefore encapsulates the practical workflow described in the project README: no manual URL construction or XML parsing is required ‚Äî cirpy.resolve performs the request, parsing, and selection of the first returned representation.` |
| `cirpy_resolve_image` | `cirpy.resolve_image` | `cirpy.py` | `input: str, resolvers: list = None, fmt: str = "png", width: int = 300, height: int = 300, frame: bool = False, crop: int = None, bgcolor: str = None, atomcolor: str = None, hcolor: str = None, bondcolor: str = None, framecolor: str = None, symbolfontsize: int = 11, linewidth: int = 2, hsymbol: str = "special", csymbol: str = "special", stereolabels: bool = False, stereowedges: bool = True, header: str = None, footer: str = None, **kwargs` | `Resolve a chemical identifier to a 2D image depiction using the CIR (Chemical Identifier Resolver) web service. This function is part of CIRpy, a Python interface to the NCI/NIH Chemical Identifier Resolver (CIR). Given a chemical identifier (name, InChI, SMILES, registry number, etc.) it builds a CIR API request that asks the service to produce a 2D image representation of the structure and returns the raw image bytes. The function aggregates its explicit parameters into the API parameter map, applies a small set of deterministic transformations required by the CIR API (for example, renaming fmt to format and stereolabels to showstereo, mapping stereowedges to both wedges and dashes), enforces a non-antialiased image when bgcolor is "transparent", and always requests a representation of type "image" and xml=False. The constructed URL is produced by construct_api_url(...) and the image is fetched with urlopen(...). The returned bytes are the exact response body from the CIR service and must be interpreted by the caller according to the requested fmt (png or gif).` |

## ‚öñÔ∏è License

Original Code License: MIT

Wrapper Code & Documentation: Apache-2.0

*This file was automatically generated on February 26, 2026.*
