# molmass

[üîô Back to Main Repo](../../../README.md) | [üîó Original Repo](https://github.com/cgohlke/molmass)

![Tool Count](https://img.shields.io/badge/Agent_Tools-14-blue?style=flat-square)
![Category](https://img.shields.io/badge/Category-Chemistry-green?style=flat-square)
![Status](https://img.shields.io/badge/Import_Test-Passed-success?style=flat-square)

## üìñ Overview

Molmass is a Python library (with CLI and optional web app) for calculating molecular masses, elemental compositions, and isotopic mass spectra from chemical formulas, element weights, or sequences using elemental isotope data.

> **Note**: This documentation lists the **agent-ready wrapper functions** generated for this package. These functions have been strictly typed, docstring-enhanced, and tested for import stability within a standardized Apptainer environment.

## üõ†Ô∏è Available Agent Tools

Below is the list of **14** functions optimized for LLM tool-use.

| **Tool Name (Wrapper)**   | **Source**          | **File Path**     | **Arguments (Type)**        | **Description**                |
| ------------------------- | ------------------- | ----------------- | --------------------------- | ------------------------------ |
| `molmass_analyze` | `molmass.analyze` | `molmass/molmass.py` | `formula: str, maxatoms: int = 512, min_intensity: float = 0.0001, debug: bool = False` | `molmass.analyze Return a human-readable analysis of a chemical formula suitable for console display or logging. This function is used in the molmass library (a molecular mass calculation toolkit and web/console application) to produce a multi-line textual summary of a molecule described by a chemical formula. The analysis includes the formula in Hill notation when different, the empirical formula, nominal mass, average mass, monoisotopic mass and its isotopic abundance, the most abundant mass and the mean of the mass distribution when available, the number of atoms, an elemental composition table, and a mass distribution table (spectrum) when computed. Calculations are based on elemental isotopic compositions provided by the molmass element database; chemical bonding mass deficiency is not taken into account. The returned string is intended for human inspection (console output or logs) and not guaranteed to follow a stable machine-parsable format.` |
| `molmass_format_charge` | `molmass.format_charge` | `molmass/molmass.py` | `charge: int, prefix: str = ""` | `Return a standardized string representation of an ionic charge for use in chemical formula display, mass/charge (m/z) annotations, and related output in the molmass library. This function is used by higher-level objects (for example Formula and spectrum formatting) to append or display the net ionic charge of a molecule or particle in a compact, human- and machine-readable form. The formatting rules implemented here follow the conventions used in the molmass codebase and README examples: a zero charge is represented by the single character '0'; a charge of magnitude one is represented only by its sign ('+' or '-'); charges with absolute value greater than one are rendered as the absolute count immediately followed by the sign, optionally preceded by a single-character prefix when provided (for example, formatting -2 with prefix '_' yields '_2-'). The function has no side effects and returns a new string; it does not modify external state.` |
| `molmass_from_fractions` | `molmass.from_fractions` | `molmass/molmass.py` | `fractions: dict[str, float], maxcount: int = 10, precision: float = 0.0001` | `molmass.from_fractions returns a chemical formula string derived from elemental mass fractions by converting mass-based abundances into the smallest consistent integer atom counts, using element atomic masses and isotopic masses from the package elemental database.` |
| `molmass_from_oligo` | `molmass.from_oligo` | `molmass/molmass.py` | `sequence: str, dtype: str = "ssdna"` | `Return the chemical formula for a polymer composed of unmodified (deoxy)nucleotides derived from a DNA or RNA sequence. This function constructs a Hill-notation style chemical formula string that represents the polymer used in molmass molecular-mass and composition calculations. Each strand produced by this function includes a 5' monophosphate; single-stranded polymers have one appended water unit (H2O) and double-stranded polymers have two appended water units ((H2O)2) as part of the returned grouped formula. The resulting string is suitable for feeding into molmass.Formula or other molmass parsers to compute average/monoisotopic mass, elemental composition, and isotopic spectra. The function also accepts and preserves an optional ionic charge suffix in the input sequence (for example "G_2+"), which is parsed and appended to the returned formula.` |
| `molmass_from_peptide` | `molmass.from_peptide` | `molmass/molmass.py` | `sequence: str` | `Return chemical formula for a peptide polymer built from unmodified amino acids. This function converts an amino acid sequence into a chemical formula string that represents the corresponding peptide polymer. It is intended for use with the molmass library to compute molecular mass, elemental composition, and mass distribution by passing its output to molmass.Formula. The function accepts typical single-letter amino acid sequences, tolerates embedded spaces for readability, and recognizes trailing ionic charge descriptors as accepted by the package (for example, rdkit-style descriptors such as "_2+"). Internally the function removes whitespace, extracts any trailing charge with split_charge, maps residues to their residue formulas using the AMINOACIDS mapping via from_sequence, appends "H2O" to represent the polymer termini/hydration stoichiometry, and then reattaches any parsed charge with join_charge. The returned string uses the same formula syntax expected by molmass.Formula (parentheses, optional bracketed charge notation).` |
| `molmass_from_sequence` | `molmass.from_sequence` | `molmass/molmass.py` | `sequence: str, groups: dict[str, str]` | `Convert a biological sequence (DNA, RNA, or peptide) to a chemical formula string in Hill notation.` |
| `molmass_join_charge` | `molmass.join_charge` | `molmass/molmass.py` | `formula: str, charge: int, separator: str = ""` | `Return a chemical formula string with an ionic charge suffix suitable for use in molmass calculations, web output, and textual representations of charged species.` |
| `molmass_mass_charge_ratio` | `molmass.mass_charge_ratio` | `molmass/molmass.py` | `mass: float, charge: int` | `molmass.mass_charge_ratio returns the mass-to-charge ratio (m/z) for an ion or neutral species given its mass and integer charge. This helper is used in the molmass library and examples to convert masses (for example Formula.mass or Formula.monoisotopic_mass, expressed in unified atomic mass units / daltons) and integer charge numbers (from Formula.charge or other sources) into the m/z value used in mass spectrometry and spectrum calculations.` |
| `molmass_split_charge` | `molmass.split_charge` | `molmass/molmass.py` | `formula: str` | `molmass.split_charge: Extract the chemical formula with any trailing ionic charge notation removed and return the cleaned formula plus the integer net charge. This utility is used throughout the molmass library to accept user-supplied chemical formulas that include appended ionic charge annotations (for example "H2O+", "[Fe(CN)6]3-", "M_2+" or "[[M]]2-") so the core formula parsing and mass calculations operate on the neutral/formula part while the ionic charge is handled separately by mass/charge computations.` |
| `molmass_elements_word_wrap` | `molmass.elements.word_wrap` | `molmass/elements.py` | `text: str, linelen: int = 79, indent: int = 0, joinstr: str = ""` | `molmass.elements.word_wrap: Return a word-wrapped copy of a text string for use in molmass element descriptions, console output, and web display. This helper formats long description strings (for example Element.description entries shown in the README) into lines that are easier to read in terminals, logs, and simple text UIs by breaking on whitespace between words without performing hyphenation.` |
| `molmass_molmass_precision_digits` | `molmass.molmass.precision_digits` | `molmass/molmass.py` | `f: float, width: int` | `molmass.molmass.precision_digits returns the recommended number of digits after the decimal point to print a floating point value f so that the formatted number fits within a field of width characters. This helper is used by the molmass library when formatting numeric outputs (for example average mass, monoisotopic_mass, nominal_mass, m/z values in spectra, and intensity percentages shown in the console, web UI, and dataframes) so that numbers are presented compactly and consistently within fixed-width displays.` |
| `molmass_web_analyze` | `molmass.web.analyze` | `molmass/web.py` | `formula: str, maxatoms: int = 512, min_intensity: float = 0.0001` | `Return an HTML fragment that contains a human-readable analysis of a chemical formula suitable for inclusion in the molmass web application. This function is part of the molmass web interface. It uses the molmass library to parse a chemical formula, compute elemental composition, and ‚Äî when feasible ‚Äî compute the mass distribution spectrum based on isotopic compositions (the molmass library computes average, nominal, and isotopic masses; mass deficiency due to chemical bonding is not taken into account). The returned string embeds results as HTML tables and formatted Hill/empirical formulas using HTML superscripts/subscripts so the output can be rendered directly in a web page.` |
| `molmass_web_cgi` | `molmass.web.cgi` | `molmass/web.py` | `url: str, open_browser: bool = True, debug: bool = True` | `Run the molmass web application as a local CGI-capable server process. This function is part of the molmass web interface and is used to serve the molmass web application (the component that renders HTML pages and handles requests to calculate molecular mass, elemental composition, and mass distribution spectra from chemical formulas as described in the project README). It either handles a single CGI request when executed inside a CGI-capable environment, or starts a local HTTP server that recognizes this module as a CGI script and serves it at the provided URL. Behavior includes normalizing the URL, changing the current working directory to the module directory, optionally opening a web browser to the URL, and enabling detailed CGI tracebacks in debug mode.` |
| `molmass_web_webbrowser` | `molmass.web.webbrowser` | `molmass/web.py` | `url: str, delay: float = 1.0` | `molmass.web.webbrowser: Open a URL in the system default web browser after a short delay. This helper function is used by the molmass web application to launch the web-based user interface (for example when running the package with the web server option). It schedules a background timer that calls the standard library webbrowser.open() on the provided URL after the specified delay. The short delay is intended to give a locally started web server time to bind to its port before the browser attempts to connect.` |

## ‚öñÔ∏è License

Original Code License: BSD-3-Clause

Wrapper Code & Documentation: Apache-2.0

*This file was automatically generated on February 26, 2026.*
